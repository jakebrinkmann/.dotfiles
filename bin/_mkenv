#!/usr/bin/env bash
set -e

PYTHON="${PYTHON:-python3.8}"
PREFIX="${PREFIX:-.virtualenv}"

# Make a python virtualenv
python3 -m venv -p ${PYTHON} ${PREFIX}
python3 -m venv --relocatable ${PREFIX}

# Install useful tools
source ${PREFIX}/bin/activate
${PYTHON} -m \
    pip install \
      pip-tools \
      pylint \
      pytest \
      black \
      flake8 \
      isort \
      pycodestyle \
      pydocstyle \
      pytest-sugar \
      pytest-cov \
      pytest-mock
deactivate
